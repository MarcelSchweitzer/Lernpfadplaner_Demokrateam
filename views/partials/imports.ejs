<script>

    sources = [
        "js/dependencies/jquery-3.1.1.min.js",
        "js/helpers/arrayToolkit.js",
        "js/helpers/uniqueIdentifiers.js",
        "js/clientSession.js",
        "js/learningPath.js",
        "js/eventHandlers/eventHandler.js",
        "js/eventHandlers/httpHandler.js"
    ]

    try{

        // check if source code is available
        _ = new Session();
    }catch(e){

        // maximum amount of loading attempts
        const maxAtempts = 10;

        function loadResource(source){
            let script = document.createElement('script');
            script.setAttribute('src', source);
            document.head.appendChild(script);
        }

        // load source code

        for(let i=0; i < sources.length; i++){
            let noSuccess = true;
            let count = 0;

            // TODO CALLBACK INSTEAD OF WAITING
            while(noSuccess && count < maxAtempts){
                setTimeout(loadResource(sources[i]), i*50);
                noSuccess = false;
            }
        }
        
    }
</script>

<link rel="stylesheet" href="css/main.css">

